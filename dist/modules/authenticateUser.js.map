{"version":3,"sources":["../../src/modules/authenticateUser.ts"],"sourcesContent":["import { log } from \"@utils/logger\";\r\n\r\nexport const authenticateUser = (req, res, next) => {\r\n\r\n    next();\r\n\r\n/*\r\n    const authHeader = req.headers['authorization']\r\n    const token = authHeader && authHeader.split(' ')[1]\r\n\r\n    if (token === undefined) {\r\n        // console.log('Token was undefined')\r\n        return res.sendStatus(401)\r\n    } else {\r\n        jwt.verify(token, process.env.JWT_TOKEN, (err, user) => {\r\n            // console.log('jwt.verify', user)\r\n\r\n            if (err) {\r\n                console.log('jwt.verify', err)\r\n                return res.sendStatus(403)\r\n            } else {\r\n                const result = compareAsc(new Date(user.expires), new Date())\r\n                // console.log('Expiry Date Compare', new Date(user.expires), new Date(), result)\r\n\r\n                if (result<0) {\r\n                    return res.sendStatus(401)\r\n                } else {\r\n                    // console.log('Success inside jwt')\r\n                    req.user = user\r\n                    next()\r\n                }\r\n            }\r\n        })\r\n    }\r\n*/\r\n}\r\n"],"names":["authenticateUser","req","res","next"],"mappings":";;;;+BAEaA;;;eAAAA;;;AAAN,IAAMA,mBAAmB,SAACC,KAAKC,KAAKC;IAEvCA;AA+BJ"}